<section class="search section is-blue has-illus" [class.is-max]="isTest()" appObserveSection id="recherche">
  <div class="section-container">
    <h2 class="section-title">ğŸ” Ce que je recherche</h2>
    <p class="section-subtitle">Mes critÃ¨res pour une relation Ã©panouie</p>

    <app-note icon="ğŸ‘¬â€‹" heading="Une relation libre" [isDark]="true">
      Admirer, embrasser ou plus, sans rechercher activement le sexe ! Je ne souhaite avoir qu'une seule relation
      amoureuse, mais je sais que d'autres peuvent me plaire sans pour autant vouloir me mettre en couple avec.
      Simplement ne pas rater un moment avec quelquâ€™un qui me plaÃ®t si une occasion se prÃ©sente. Cela exige transparence
      et honnÃªtetÃ© mutuelle entre nous :
      <strong>â€œlibreâ€ ne veut pas dire â€œon fait ce quâ€™on veut sans se soucier de lâ€™autreâ€</strong> !.
    </app-note>

    <div class="list">
      <h3>ğŸ’ Les clÃ©s de mon coeur</h3>
      <div class="list-grid">
        <div *ngFor="let trait of importantTraits" class="list-item trait-item" [style.--trait-color]="trait.color">
          <div class="trait-text">
            <h4>{{ trait.title }}</h4>
            <p>{{ trait.description }}</p>
          </div>
          <img class="trait-icon" [src]="trait.src" alt="" />
        </div>
      </div>
    </div>

    <div class="criteria-sections">
      <div class="criteria-section">
        <h3>â­ Bonus sympas</h3>
        @if (isTest()) {
          @for (item of niceToHave; track $index) {
            <div class="criteria-check">
              <mat-checkbox [(ngModel)]="bonus[$index]" [ngModelOptions]="{ standalone: true }" color="primary">
                {{ item }}
              </mat-checkbox>
            </div>
          }
        } @else {
          <ul class="is-yellow">
            @for (item of niceToHave; track $index) {
              <li>{{ item }}</li>
            }
          </ul>
        }
      </div>
      <div class="criteria-section">
        <h3>âŒ Possibles deal-breakers</h3>
        @if (isTest()) {
          @for (item of dealBreakers; track $index) {
            <div class="criteria-check">
              <mat-checkbox [(ngModel)]="malus[$index]" [ngModelOptions]="{ standalone: true }" color="warn">
                {{ item }}
              </mat-checkbox>
            </div>
          }
        } @else {
          <ul class="is-red">
            @for (item of dealBreakers; track $index) {
              <li>{{ item }}</li>
            }
          </ul>
        }
      </div>
    </div>

    <app-note icon="â±ï¸â€‹" heading="ZÃ©ro pression" [isDark]="true">
      Je viens de sortir d'une relation, et je ne recherche pas Ã  me mettre en couple "pour Ãªtre en couple". J'ai envie
      de me <strong>laisser le temps</strong> de dÃ©couvrir les gens, de partager de bons moments, de
      <strong>vraiment</strong> tomber amoureux (d'aimer une personne pour ce qu'elle est), afin de construire quelque
      chose de stable.
    </app-note>

    @if (isTest()) {
      <app-card heading="âœï¸ Te concernant">
        <form class="u-width100 u-flexColumn u-gap200">
          <p class="u-textBold">Tu peux checker les bonus (ou deal-breakers) que tu remplis ci-dessus â¬†ï¸</p>
          <mat-slide-toggle [(ngModel)]="item.canFree" [ngModelOptions]="{ standalone: true }" color="primary">
            Tu es en accord avec la relation libre
          </mat-slide-toggle>
          <mat-slide-toggle [(ngModel)]="item.hasFree" [ngModelOptions]="{ standalone: true }" color="primary">
            Tu as dÃ©jÃ  eu une relation ouverte, ou libre, ou poly-amoureuse
          </mat-slide-toggle>
          <mat-slide-toggle [(ngModel)]="item.distance" [ngModelOptions]="{ standalone: true }" color="primary">
            Tu peux gÃ©rer une relation Ã  distance sur le court/moyen terme si besoin
          </mat-slide-toggle>
          <div class="u-flexColumn u-gap100">
            <mat-label>Selon ce que j'ai mis au-dessus, tu pourrais me plaire physiquement Ã  quel point ?</mat-label>
            <mat-slider [min]="0" [max]="10" [step]="1" [discrete]="true" [showTickMarks]="true" color="warn">
              <input matSliderThumb [(ngModel)]="item.physical" [ngModelOptions]="{ standalone: true }" #slider />
            </mat-slider>
          </div>
        </form>
      </app-card>
      <div class="buttons">
        <button mat-flat-button (click)="previous()">
          <i class="icon-arrow-left"></i>
          PrÃ©cÃ©dent
        </button>
        <button mat-flat-button color="primary" (click)="next()">
          Suivant
          <i class="icon-arrow-right"></i>
        </button>
      </div>
    }
  </div>
</section>
